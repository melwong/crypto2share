<script src=js/web3-eth-accounts.js></script>
<script src=js/qrcode.js></script>
<script>
    function generate() {
        const account = new Web3EthAccounts();
        const keyPair = account.create();
        const pubKey = JSON.parse(JSON.stringify(keyPair.address));
        const privKey = JSON.parse(JSON.stringify(keyPair.privateKey));
        document.getElementById("public").textContent = pubKey;
        document.getElementById("public_qr").textContent = "";
        new QRCode(document.getElementById("public_qr"), { text: pubKey, width: 300, height: 300, correctLevel: QRCode.CorrectLevel.H });

        //Start: Set details of crypto
        var explorerUrl = 'https://ethplorer.io/address'; //Ensure there's no "/" at the end
        var a = document.getElementById('explorer-url');
        a.href = explorerUrl + "/" + pubKey;

        document.getElementById('pubKey').value = pubKey;
        document.getElementById('privKey').value = privKey;
        document.getElementById('cryptoExplorer').value = 'Ethplorer.io';
        document.getElementById('cryptoExplorerUrl').value = explorerUrl;
        //End

    }
</script>